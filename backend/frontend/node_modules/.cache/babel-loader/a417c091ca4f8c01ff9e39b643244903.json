{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Form,Button,Table,Row,Col}from'react-bootstrap';import{categoryProducts,deleteCategory,createCategory,editCategory}from'../actions/categoryActions';import Loader from'../components/Loader';import Message from'../components/Message';import{LinkContainer}from'react-router-bootstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CategoryScreen(){var dispatch=useDispatch();var productCategory=useSelector(function(state){return state.productCategory;});var error=productCategory.error,loading=productCategory.loading,products=productCategory.products;var categoryCreate=useSelector(function(state){return state.categoryCreate;});var errorCreate=categoryCreate.error,loadingCreate=categoryCreate.loading,category=categoryCreate.category,successCreate=categoryCreate.success;var categoryDelete=useSelector(function(state){return state.categoryDelete;});var loadingDelete=categoryDelete.loading,errorDelete=categoryDelete.error,successDelete=categoryDelete.success;useEffect(function(){dispatch(categoryProducts());},[dispatch,successDelete,successCreate]);var deleteHandler=function deleteHandler(id){if(window.confirm('Are you sure you want to delete this category? It will remove all related products from it')){dispatch(deleteCategory(id));}};var createCategoryHandler=function createCategoryHandler(){dispatch(createCategory());console.log('some things');};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Row,{className:\"align-items-center\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"h1\",{children:\"Categories\"})})}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"edit button\"}),/*#__PURE__*/_jsx(\"th\",{children:\"delete\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.id}),/*#__PURE__*/_jsx(\"td\",{children:product.product_category}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(LinkContainer,{to:\"/admin/categorylist/\".concat(product.id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm\",onClick:function onClick(){return deleteHandler(product.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})})]},product.id);}),/*#__PURE__*/_jsxs(Button,{className:\"my-3\",onClick:createCategoryHandler,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Create A New Category\"]})]})]})]});}export default CategoryScreen;","map":{"version":3,"sources":["E:/forpros.com/forpros.com/backend/frontend/src/screens/CategoryListScreen.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Form","Button","Table","Row","Col","categoryProducts","deleteCategory","createCategory","editCategory","Loader","Message","LinkContainer","CategoryScreen","dispatch","productCategory","state","error","loading","products","categoryCreate","errorCreate","loadingCreate","category","successCreate","success","categoryDelete","loadingDelete","errorDelete","successDelete","deleteHandler","id","window","confirm","createCategoryHandler","console","log","map","product","product_category"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Form, Button, Table, Row, Col } from 'react-bootstrap'\r\n\r\nimport { categoryProducts, deleteCategory, createCategory, editCategory } from '../actions/categoryActions'\r\n\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\n\r\n\r\nfunction CategoryScreen() {\r\n\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const productCategory = useSelector(state => state.productCategory)\r\n    const { error, loading, products } = productCategory\r\n    \r\n    const categoryCreate = useSelector(state => state.categoryCreate)\r\n    const { error: errorCreate, loading: loadingCreate, category, success: successCreate } = categoryCreate\r\n   \r\n   \r\n\r\n    const categoryDelete = useSelector(state => state.categoryDelete)\r\n    const { loading: loadingDelete, error: errorDelete, success: successDelete } = categoryDelete\r\n\r\n    useEffect(() => {\r\n\r\n      \r\n        dispatch(categoryProducts())\r\n\r\n\r\n\r\n    }, [dispatch, successDelete, successCreate ])\r\n    const deleteHandler = (id) => {\r\n\r\n        if (window.confirm('Are you sure you want to delete this category? It will remove all related products from it')) {\r\n            dispatch(deleteCategory(id))\r\n        }\r\n    }\r\n\r\n\r\n    const createCategoryHandler = () => {\r\n        dispatch(createCategory())\r\n        console.log('some things')\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <Row className='align-items-center'>\r\n                <Col>\r\n                    <h1>Categories</h1>\r\n                </Col>\r\n\r\n\r\n            </Row>\r\n            {loading\r\n                ? (<Loader />)\r\n                : error\r\n                    ? (<Message variant='danger'>{error}</Message>)\r\n                    : (\r\n\r\n                        <Table striped bordered hover responsive className='table-sm'>\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>ID</th>\r\n                                    <th >NAME</th>\r\n                                   \r\n                                 \r\n                                    <th >edit button</th>\r\n                                    <th >delete</th>\r\n\r\n\r\n\r\n                                </tr>\r\n                            </thead>\r\n\r\n                            <tbody>\r\n                                {products.map(product => (\r\n                                    <tr key={product.id}>\r\n                                        <td>{product.id}</td>\r\n\r\n                                        <td  >\r\n                                            {product.product_category}\r\n                                        </td>\r\n                                        \r\n                                        <td>\r\n                                            <LinkContainer to={`/admin/categorylist/${product.id}/edit`}>\r\n\r\n                                             <Button variant='light'  className='btn-sm' >\r\n                                                <i className='fas fa-edit'></i>\r\n                                            </Button>\r\n                                            </LinkContainer>\r\n                                           \r\n                                        </td>\r\n                                        <td>\r\n\r\n                                            <Button variant='danger'  className='btn-sm' onClick={() => deleteHandler(product.id)}>\r\n                                                <i className='fas fa-trash'></i>\r\n                                            </Button>\r\n                                        </td>\r\n\r\n                                    </tr>\r\n                                ))}\r\n                                <Button className='my-3' onClick={createCategoryHandler}>\r\n                                    <i className='fas fa-plus'></i> Create A New Category\r\n                                </Button>\r\n\r\n                            </tbody>\r\n                        </Table>\r\n\r\n\r\n\r\n\r\n                       \r\n                    )\r\n\r\n\r\n\r\n\r\n\r\n            }\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CategoryScreen\r\n"]},"metadata":{},"sourceType":"module"}