{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Row,Col}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import{categoryListProducts,categoryProducts}from'../actions/categoryActions';import Product from'../components/Product';import Loader from'../components/Loader';import Message from'../components/Message';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function CategoricallyProductsScreen(_ref){var match=_ref.match;var categoryId=match.params.id;var dispatch=useDispatch();var productCategoryList=useSelector(function(state){return state.productCategoryList;});var error=productCategoryList.error,loading=productCategoryList.loading,products=productCategoryList.products;var productCategory=useSelector(function(state){return state.productCategory;});var errorCategory=productCategory.error,loadingCategory=productCategory.loading,productsCategory=productCategory.products;var x=productsCategory.find(function(e){return e.id===Number(categoryId);});var y=x.product_category;useEffect(function(){// dispatch(categoryProducts())\ndispatch(categoryListProducts(categoryId));console.log(productsCategory);console.log(categoryId);console.log(x.product_category);},[dispatch,productsCategory,categoryId,x]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(_Fragment,{children:loadingCategory?/*#__PURE__*/_jsx(Loader,{}):errorCategory?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(\"h1\",{children:y})}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsx(Row,{children:products.map(function(product){return/*#__PURE__*/_jsx(Col,{sm:12,md:6,lg:4,xl:3,children:/*#__PURE__*/_jsx(Product,{product:product})},product._id);})})]});}export default CategoricallyProductsScreen;","map":{"version":3,"sources":["E:/forpros.com/forpros.com/backend/frontend/src/screens/CategoricallyProductsScreen.js"],"names":["React","useState","useEffect","axios","Row","Col","useDispatch","useSelector","categoryListProducts","categoryProducts","Product","Loader","Message","CategoricallyProductsScreen","match","categoryId","params","id","dispatch","productCategoryList","state","error","loading","products","productCategory","errorCategory","loadingCategory","productsCategory","x","find","e","Number","y","product_category","console","log","map","product","_id"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,OAASC,GAAT,CAAcC,GAAd,KAAyB,iBAAzB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,oBAAT,CAA+BC,gBAA/B,KAAuD,4BAAvD,CAIA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,uBAApB,C,6IAGA,QAASC,CAAAA,2BAAT,MAAgD,IAATC,CAAAA,KAAS,MAATA,KAAS,CAC5C,GAAMC,CAAAA,UAAU,CAAGD,KAAK,CAACE,MAAN,CAAaC,EAAhC,CAEA,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CACA,GAAMa,CAAAA,mBAAmB,CAAGZ,WAAW,CAAC,SAAAa,KAAK,QAAIA,CAAAA,KAAK,CAACD,mBAAV,EAAN,CAAvC,CACA,GAAQE,CAAAA,KAAR,CAAqCF,mBAArC,CAAQE,KAAR,CAAeC,OAAf,CAAqCH,mBAArC,CAAeG,OAAf,CAAwBC,QAAxB,CAAqCJ,mBAArC,CAAwBI,QAAxB,CAIA,GAAMC,CAAAA,eAAe,CAAGjB,WAAW,CAAC,SAAAa,KAAK,QAAIA,CAAAA,KAAK,CAACI,eAAV,EAAN,CAAnC,CACA,GAAeC,CAAAA,aAAf,CAAuFD,eAAvF,CAAQH,KAAR,CAAuCK,eAAvC,CAAuFF,eAAvF,CAA8BF,OAA9B,CAAkEK,gBAAlE,CAAuFH,eAAvF,CAAwDD,QAAxD,CACA,GAAMK,CAAAA,CAAC,CAAID,gBAAgB,CAACE,IAAjB,CAAsB,SAAAC,CAAC,CAAI,CAClC,MAAOA,CAAAA,CAAC,CAACb,EAAF,GAASc,MAAM,CAAChB,UAAD,CAAtB,CACH,CAFU,CAAX,CAIA,GAAIiB,CAAAA,CAAC,CAAGJ,CAAC,CAACK,gBAAV,CAEA/B,SAAS,CAAC,UAAM,CAEZ;AACAgB,QAAQ,CAACV,oBAAoB,CAACO,UAAD,CAArB,CAAR,CACAmB,OAAO,CAACC,GAAR,CAAYR,gBAAZ,EACAO,OAAO,CAACC,GAAR,CAAYpB,UAAZ,EACAmB,OAAO,CAACC,GAAR,CAAYP,CAAC,CAACK,gBAAd,EAEH,CARQ,CAQN,CAACf,QAAD,CAAWS,gBAAX,CAA6BZ,UAA7B,CAAyCa,CAAzC,CARM,CAAT,CAWA,mBACI,oCACI,yBACCF,eAAe,cAAI,KAAC,MAAD,IAAJ,CACVD,aAAa,cAAI,KAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,UAA2BJ,KAA3B,EAAJ,cAGd,oBACIW,CADJ,EALL,EADJ,CAiBKV,OAAO,cAAI,KAAC,MAAD,IAAJ,CACFD,KAAK,cAAI,KAAC,OAAD,EAAS,OAAO,CAAC,QAAjB,UAA2BA,KAA3B,EAAJ,cACD,KAAC,GAAD,WAEGE,QAAQ,CAACa,GAAT,CAAa,SAAAC,OAAO,qBAEjB,KAAC,GAAD,EAAuB,EAAE,CAAE,EAA3B,CAA+B,EAAE,CAAE,CAAnC,CAAsC,EAAE,CAAE,CAA1C,CAA6C,EAAE,CAAE,CAAjD,uBACI,KAAC,OAAD,EAAS,OAAO,CAAEA,OAAlB,EADJ,EAAUA,OAAO,CAACC,GAAlB,CAFiB,EAApB,CAFH,EAnBd,GADJ,CAmCH,CAED,cAAezB,CAAAA,2BAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport { Row, Col } from 'react-bootstrap'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { categoryListProducts, categoryProducts } from '../actions/categoryActions'\r\n\r\n\r\n\r\nimport Product from '../components/Product'\r\nimport Loader from '../components/Loader'\r\nimport Message from '../components/Message'\r\n\r\n\r\nfunction CategoricallyProductsScreen({ match }) {\r\n    const categoryId = match.params.id\r\n\r\n    const dispatch = useDispatch()\r\n    const productCategoryList = useSelector(state => state.productCategoryList)\r\n    const { error, loading, products } = productCategoryList\r\n\r\n\r\n\r\n    const productCategory = useSelector(state => state.productCategory)\r\n    const { error: errorCategory, loading: loadingCategory, products: productsCategory } = productCategory\r\n    const x =  productsCategory.find(e => {\r\n        return e.id === Number(categoryId)\r\n    })\r\n\r\n    let y = x.product_category\r\n\r\n    useEffect(() => {\r\n\r\n        // dispatch(categoryProducts())\r\n        dispatch(categoryListProducts(categoryId))\r\n        console.log(productsCategory)\r\n        console.log(categoryId)\r\n        console.log(x.product_category)\r\n\r\n    }, [dispatch, productsCategory, categoryId, x]\r\n    )\r\n\r\n    return (\r\n        <div>\r\n            <>\r\n            {loadingCategory ? (<Loader />)\r\n                : errorCategory ? (<Message variant='danger'>{error}</Message>)\r\n                    :\r\n\r\n                (<h1>\r\n                    {y}\r\n                </h1>)\r\n\r\n                }\r\n\r\n            </>\r\n\r\n\r\n\r\n\r\n            {loading ? (<Loader />)\r\n                : error ? (<Message variant='danger'>{error}</Message>)\r\n                    : <Row>\r\n\r\n                        {products.map(product => (\r\n\r\n                            <Col key={product._id} sm={12} md={6} lg={4} xl={3}>\r\n                                <Product product={product} />\r\n\r\n                            </Col>\r\n                        )\r\n                        )}\r\n\r\n                    </Row>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CategoricallyProductsScreen\r\n"]},"metadata":{},"sourceType":"module"}